(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-96bc"],{"9vC8":function(e,t,a){"use strict";a.r(t);var l=a("QbLZ"),r=a.n(l),o=a("L2JU"),i=a("bqSz"),s={name:"CreateHalloffame",components:{},data:function(){var e=this,t=function(t,a,l){""===a?(e.$message({message:t.field.charAt(0).toUpperCase()+t.field.slice(1)+" is required",type:"error"}),l(new Error(t.field.charAt(0).toUpperCase()+t.field.slice(1)+" is required"))):l()};return{halloffame:{title:"",property_alt:"",description:"",img:"",author:"",instagram_url:"",halloffame_id:0,fullimgurl:""},roles:null,loading:!1,rules:{product_id:[{validator:t}],product_code:[{validator:t}],name:[{validator:t}],description:[{validator:t}]},tempRoute:{},dialogImageUrl:"",dialogVisible:!1,disabled:!1,uploadFileUrl:"",imageUrl:""}},computed:r()({},Object(o.b)(["userid","name","avatar","usertype","role","uploadfileurl","token"])),watch:{$route:function(e,t){"CreateProduct"===e.name&&this.getProductDetail()}},created:function(){this.uploadFileUrl=this.uploadfileurl,this.$route.params&&this.$route.params.id>0&&this.getDetail(this.$route.params.id)},methods:{getDetail:function(e){var t=this;Object(i.c)(e).then(function(a){t.halloffame=a.data.data,t.halloffame.halloffame_id=e,t.imageUrl=t.halloffame.fullimgurl})},submitForm:function(){var e=this;this.loading=!0,console.log(" this.postForm ",this.halloffame),this.halloffame.halloffame_id>0?Object(i.e)(this.halloffame).then(function(t){e.$message({title:"success",message:"Updated",type:"success",duration:3e3}),e.loading=!1,e.$router.replace({path:"/halloffames/index"})}).catch(function(t){e.loading=!1,console.log(t,"error")}):Object(i.a)(this.halloffame).then(function(t){e.$message({title:"success",message:"Created",type:"success",duration:3e3}),e.loading=!1,e.$router.replace({path:"/halloffames/index"})}).catch(function(t){e.loading=!1,console.log(t,"error")})},handleAvatarSuccess:function(e,t){this.halloffame.img=e.data,this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){},handleRemove:function(){this.halloffame.img="",this.imageUrl=""}}},n=(a("buxO"),a("KHd+")),u=Object(n.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"createPost-container"},[a("el-form",{ref:"halloffame",staticClass:"form-container",attrs:{model:e.halloffame,rules:e.rules}},[a("div",{staticClass:"createPost-main-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Title"}},[a("el-input",{attrs:{type:"text",name:"title",placeholder:e.$t("product.name"),required:""},model:{value:e.halloffame.title,callback:function(t){e.$set(e.halloffame,"title",t)},expression:"halloffame.title"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Author"}},[a("el-input",{attrs:{name:"author",placeholder:"Nickname",required:""},model:{value:e.halloffame.author,callback:function(t){e.$set(e.halloffame,"author",t)},expression:"halloffame.author"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Alt"}},[a("el-input",{attrs:{type:"property_alt",name:"name",placeholder:"Alt",required:""},model:{value:e.halloffame.property_alt,callback:function(t){e.$set(e.halloffame,"property_alt",t)},expression:"halloffame.property_alt"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Home order number"}},[a("label",{staticStyle:{"padding-bottom":"5px"}},[e._v("\n              Please: Insert a number > 0 to display it in home page\n            ")]),e._v(" "),a("el-input",{attrs:{type:"text",name:"home_order",placeholder:"home order",required:""},model:{value:e.halloffame.home_order,callback:function(t){e.$set(e.halloffame,"home_order",t)},expression:"halloffame.home_order"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Instagram url"}},[a("el-input",{attrs:{type:"text",name:"instagram_url",placeholder:"Url",required:""},model:{value:e.halloffame.instagram_url,callback:function(t){e.$set(e.halloffame,"instagram_url",t)},expression:"halloffame.instagram_url"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Product Filter"}},[a("label",{staticStyle:{"padding-bottom":"5px"}},[e._v('\n              Plese: After id tour insert  ";".  If it is referred to all tours leave the field empty\n            ')]),e._v(" "),a("el-input",{attrs:{type:"text",name:"product_filter",placeholder:"Product Filter"},model:{value:e.halloffame.product_filter,callback:function(t){e.$set(e.halloffame,"product_filter",t)},expression:"halloffame.product_filter"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadFileUrl,"on-success":e.handleAvatarSuccess,"on-remove":e.handleRemove}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl,width:"100px"}}):a("i",{staticClass:"el-icon-plus upload-icon",staticStyle:{width:"100px",height:"100px"}})])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"btns"},[a("router-link",{attrs:{to:"/halloffame/index"}},[a("el-button",{staticClass:"el-button el-button--danger el-button--medium",staticStyle:{padding:"10px"},attrs:{type:"primary",size:"small"}},[e._v(e._s(e.$t("table.cancel")))])],1),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"el-button el-button--primary el-button--medium",on:{click:e.submitForm}},[e._v("\n        "+e._s(e.halloffame.halloffame_id>0?e.$t("user.update"):e.$t("user.add"))+"\n      ")])],1)])],1)},[],!1,null,"2468a698",null);u.options.__file="create.vue";t.default=u.exports},bqSz:function(e,t,a){"use strict";a.d(t,"d",function(){return r}),a.d(t,"a",function(){return o}),a.d(t,"e",function(){return i}),a.d(t,"b",function(){return s}),a.d(t,"c",function(){return n});var l=a("t3Un");function r(e){return Object(l.a)({url:"/halloffames",method:"get",params:e})}function o(e){return Object(l.a)({url:"/halloffame",method:"post",data:e})}function i(e){return Object(l.a)({url:"/halloffame",method:"put",data:e})}function s(e){return Object(l.a)({url:"/halloffame/"+e,method:"delete"})}function n(e){return Object(l.a)({url:"/halloffame/"+e,method:"get"})}},buxO:function(e,t,a){"use strict";var l=a("si1q");a.n(l).a},si1q:function(e,t,a){}}]);