(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1646"],{"/11c":function(e,t,a){},"/JlW":function(e,t,a){"use strict";var o=a("/11c");a.n(o).a},"5gst":function(e,t,a){},DDug:function(e,t,a){"use strict";a.r(t);var o=a("QbLZ"),r=a.n(o),i=a("P2sY"),l=a.n(i),s=a("L2JU"),n=a("xMja"),c={product_id:"",product_code:"",name:"",description:"",meta_title:"",meta_description:"",meta_keyphrases:"",meta_keywords:"",url_personalizzato:"",images:[]},u={name:"CreateProduct",components:{Tinymce:a("glbJ").a},data:function(){var e=this,t=function(t,a,o){""===a?(e.$message({message:t.field.charAt(0).toUpperCase()+t.field.slice(1)+" is required",type:"error"}),o(new Error(t.field.charAt(0).toUpperCase()+t.field.slice(1)+" is required"))):o()};return{special_claim_array:[{value:0,label:"Freccia"},{value:1,label:"Freccia & W.A"},{value:2,label:"Freccia & TripAdvisor"}],postForm:l()({},c),roles:null,loading:!1,rules:{product_id:[{validator:t}],product_code:[{validator:t}],name:[{validator:t}],description:[{validator:t}]},tempRoute:{},dialogImageUrl:"",dialogVisible:!1,disabled:!1,uploadFileUrl:""}},computed:r()({},Object(s.b)(["userid","name","avatar","usertype","role","uploadfileurl","token"])),watch:{$route:function(e,t){"CreateProduct"===e.name&&this.getProductDetail()}},created:function(){this.getProductDetail()},methods:{getProductDetail:function(){this.uploadFileUrl=this.uploadfileurl,this.defaultForm={product_id:"",product_code:"",name:"",description:"",images:[]}},submitForm:function(){var e=this;this.$refs.postForm.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,Object(n.a)(e.postForm).then(function(t){e.$message({title:"success",message:t.data.message,type:"success",duration:3e3}),e.loading=!1,e.$router.replace({path:"/products/index"})}).catch(function(t){e.loading=!1,console.log(t,"error")})})},removeImage:function(e){console.log("Going to remove image ",e)},handleRemove:function(e){console.log(e,"handle remove")},handlePictureCardPreview:function(e){console.log("handle card picture",e),this.dialogImageUrl=e.url,this.dialogVisible=!0},handleDownload:function(e){console.log(e,"handle download")},handleImageSuccess:function(e){console.log("After upload imae",e),this.postForm.images.push(e.data)}}},d=(a("/JlW"),a("KHd+")),m=Object(d.a)(u,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"createPost-container"},[a("el-form",{ref:"postForm",staticClass:"form-container",attrs:{model:e.postForm,rules:e.rules}},[a("div",{staticClass:"createPost-main-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2}},[a("el-form-item",[a("el-checkbox",{attrs:{label:"E' un tour?",type:"checkbox",name:"is_tour",required:"",checked:""},model:{value:e.postForm.is_tour,callback:function(t){e.$set(e.postForm,"is_tour",t)},expression:"postForm.is_tour"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"ProductID"}},[a("el-input",{attrs:{name:"productid",placeholder:e.$t("product.product_id"),required:""},model:{value:e.postForm.product_id,callback:function(t){e.$set(e.postForm,"product_id",t)},expression:"postForm.product_id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"Product code"}},[a("el-input",{attrs:{type:"text",name:"name",placeholder:e.$t("product.productcode"),required:""},model:{value:e.postForm.product_code,callback:function(t){e.$set(e.postForm,"product_code",t)},expression:"postForm.product_code"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"Priority"}},[a("el-input",{attrs:{type:"text",name:"priority",placeholder:"priority",required:""},model:{value:e.postForm.priority,callback:function(t){e.$set(e.postForm,"priority",t)},expression:"postForm.priority"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{attrs:{type:"text",name:"name",placeholder:e.$t("product.name"),required:""},model:{value:e.postForm.name,callback:function(t){e.$set(e.postForm,"name",t)},expression:"postForm.name"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Claim"}},[a("el-input",{attrs:{type:"textarea",name:"claim",placeholder:"claim",required:""},model:{value:e.postForm.claim,callback:function(t){e.$set(e.postForm,"claim",t)},expression:"postForm.claim"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"Special Claim Type"}},[a("el-select",{model:{value:e.postForm.special_claim_type,callback:function(t){e.$set(e.postForm,"special_claim_type",t)},expression:"postForm.special_claim_type"}},e._l(e.special_claim_array,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"Special Claim"}},[a("el-input",{attrs:{type:"textarea",name:"special_claim",placeholder:"special claim",required:""},model:{value:e.postForm.special_claim,callback:function(t){e.$set(e.postForm,"special_claim",t)},expression:"postForm.special_claim"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Why to book with us?"}},[a("el-input",{attrs:{type:"textarea",name:"why_us",placeholder:"Why to book with US",required:""},model:{value:e.postForm.why_us,callback:function(t){e.$set(e.postForm,"why_us",t)},expression:"postForm.why_us"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[e._v("\n          Description: "),a("br"),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"Description"}},[a("Tinymce",{attrs:{height:200,language:e.en_US},model:{value:e.postForm.description,callback:function(t){e.$set(e.postForm,"description",t)},expression:"postForm.description"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[e._v("\n          Private Tour Info: "),a("br"),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"Private Tour Info"}},[a("Tinymce",{attrs:{height:200,language:e.en_US},model:{value:e.postForm.private_tour,callback:function(t){e.$set(e.postForm,"private_tour",t)},expression:"postForm.private_tour"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Meta Title"}},[a("el-input",{attrs:{name:"meta_title",placeholder:e.$t("product.product_id"),required:""},model:{value:e.postForm.meta_title,callback:function(t){e.$set(e.postForm,"meta_title",t)},expression:"postForm.meta_title"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Url Freindly"}},[a("el-input",{attrs:{type:"text",name:"url_personalizzato",placeholder:e.$t("product.productcode"),required:""},model:{value:e.postForm.url_personalizzato,callback:function(t){e.$set(e.postForm,"url_personalizzato",t)},expression:"postForm.url_personalizzato"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Meta Keywords"}},[a("el-input",{attrs:{type:"text",name:"meta_keywords",placeholder:e.$t("product.name"),required:""},model:{value:e.postForm.meta_keywords,callback:function(t){e.$set(e.postForm,"meta_keywords",t)},expression:"postForm.meta_keywords"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Meta Description"}},[a("el-input",{attrs:{type:"textarea",name:"meta_description",placeholder:e.$t("product.description"),required:""},model:{value:e.postForm.meta_description,callback:function(t){e.$set(e.postForm,"meta_description",t)},expression:"postForm.meta_description"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Meta Keyphrases"}},[a("el-input",{attrs:{type:"textarea",name:"meta_keyphrases",placeholder:e.$t("product.description"),required:""},model:{value:e.postForm.meta_keyphrases,callback:function(t){e.$set(e.postForm,"meta_keyphrases",t)},expression:"postForm.meta_keyphrases"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",[a("label",[e._v("Images")]),e._v(" "),a("div",{staticClass:"image-preview"},e._l(e.postForm.fullImages,function(t){return a("div",{key:t,staticClass:"image-wrapper"},[a("i",{staticClass:"el-icon-delete image-action",attrs:{title:"Remove"},on:{click:function(a){e.removeImage(t)}}}),e._v(" "),a("img",{staticClass:"pimage",attrs:{src:t}})])})),e._v(" "),a("el-upload",{attrs:{action:e.uploadFileUrl,"list-type":"picture-card","auto-upload":!0,"on-success":e.handleImageSuccess},scopedSlots:e._u([{key:"file",fn:function(t){var o=t.file;return a("div",{},[a("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:o.url,alt:""}}),e._v(" "),a("span",{staticClass:"el-upload-list__item-actions"},[a("span",{staticClass:"el-upload-list__item-preview",on:{click:function(t){e.handlePictureCardPreview(o)}}},[a("i",{staticClass:"el-icon-zoom-in"})]),e._v(" "),e.disabled?e._e():a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){e.handleRemove(o)}}},[a("i",{staticClass:"el-icon-delete"})])])])}}])},[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"btns"},[a("router-link",{attrs:{to:"/products/index"}},[a("el-button",{staticClass:"el-button el-button--danger el-button--medium",staticStyle:{padding:"10px"},attrs:{type:"primary",size:"small"}},[e._v(e._s(e.$t("table.cancel")))])],1),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"el-button el-button--primary el-button--medium",on:{click:e.submitForm}},[e._v("\n        "+e._s(e.$t("user.add"))+"\n      ")])],1)])],1)},[],!1,null,"01034880",null);m.options.__file="create.vue";t.default=m.exports},glbJ:function(e,t,a){"use strict";var o=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],r=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],i={name:"Tinymce",components:{},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:Number,required:!1,default:360}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN"}}},computed:{language:function(){return this.languageTypeList[this.$store.getters.language]}},watch:{value:function(e){var t=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(t.tinymceId).setContent(e||"")})},language:function(){var e=this;this.destroyTinymce(),this.$nextTick(function(){return e.initTinymce()})}},mounted:function(){this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{initTinymce:function(){var e=this,t=this;window.tinymce.init({language:this.language,selector:"#"+this.tinymceId,height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:r,menubar:this.menubar,plugins:o,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(a){t.value&&a.setContent(t.value),t.hasInit=!0,a.on("NodeChange Change KeyUp SetContent",function(){e.hasChange=!0,e.$emit("input",a.getContent())})},setup:function(e){e.on("FullscreenStateChanged",function(e){t.fullscreen=e.state})}})},destroyTinymce:function(){var e=window.tinymce.get(this.tinymceId);this.fullscreen&&e.execCommand("mceFullScreen"),e&&e.destroy()},setContent:function(e){window.tinymce.get(this.tinymceId).setContent(e)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(e){var t=this;e.forEach(function(e){window.tinymce.get(t.tinymceId).insertContent('<img class="wscnph" src="'+e.url+'" >')})}}},l=(a("wZm1"),a("KHd+")),s=Object(l.a)(i,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tinymce-container editor-container",class:{fullscreen:this.fullscreen}},[t("textarea",{staticClass:"tinymce-textarea",attrs:{id:this.tinymceId}})])},[],!1,null,"c78950c8",null);s.options.__file="index.vue";t.a=s.exports},wZm1:function(e,t,a){"use strict";var o=a("5gst");a.n(o).a},xMja:function(e,t,a){"use strict";a.d(t,"e",function(){return r}),a.d(t,"c",function(){return i}),a.d(t,"a",function(){return l}),a.d(t,"b",function(){return s}),a.d(t,"d",function(){return n});var o=a("t3Un");function r(e){return Object(o.a)({url:"/product",method:"get",params:e})}function i(e,t){return Object(o.a)({url:"/product/"+e,method:"put",data:t})}function l(e){return Object(o.a)({url:"/product",method:"post",data:e})}function s(e){return Object(o.a)({url:"/product/"+e,method:"delete"})}function n(e){return Object(o.a)({url:"/product/"+e,method:"get"})}}}]);