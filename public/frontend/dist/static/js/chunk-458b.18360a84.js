(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-458b"],{"4kLw":function(e,r,t){"use strict";var l=t("pgBP");t.n(l).a},"7KzA":function(e,r,t){"use strict";t.r(r);var l=t("QbLZ"),o=t.n(l),i=t("L2JU"),a=t("t3Un");var n={name:"Profile",components:{},data:function(){return{uploadUrl:"",dialogVisible:!1,profileImageUrl:"",ruleForm:{name:"",dob:"",gender:"",mobile:"",introduction:""},rules:{name:[{required:!0,message:"Please enter your name",trigger:"blur"},{min:2,max:100,message:"Length should be 2 to 100",trigger:"blur"}],dob:[{required:!0,message:"Please select your date of birth",trigger:"change"}],mobile:[{required:!0,message:"Please enter your mobile number",trigger:"blur"},{min:10,max:14,message:"Please correct mobile number",trigger:"blur"}],introduction:[{required:!0,message:"Please write something about you",trigger:"blur"}]},updateProfileMode:!0,loading:!0}},computed:o()({},Object(i.b)(["apiurl","token"])),watch:{$route:"getUserProfile"},created:function(){this.getUserProfile()},methods:{getUserProfile:function(){var e=this;this.loading=!0,this.uploadUrl="",Object(a.a)({url:"/profile",method:"get"}).then(function(r){e.ruleForm=r.data.data,e.loading=!1,e.uploadUrl=e.apiurl+"profile/upload?token="+e.token})},submitForm:function(){var e=this;this.$refs.ruleForm.validate(function(r){if(!r)return console.log("error submit!!"),e.loading=!1,!1;e.loading=!0,function(e){return Object(a.a)({url:"/profile",method:"put",data:e})}(e.ruleForm).then(function(r){e.updateProfileMode=!1,e.loading=!1,e.$message({title:"success",message:r.data.message,type:"success",duration:3e3})}).catch(function(r){console.log(r,"error"),e.loading=!1})})},handleRemove:function(e,r){console.log(e,r)},handlePictureCardPreview:function(e){this.profileImageUrl=e.url,this.dialogVisible=!0}}},u=(t("4kLw"),t("KHd+")),s=Object(u.a)(n,function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"profile-container"},[t("el-row",{staticStyle:{"text-align":"center"},attrs:{id:"uploaProfile12"}},[e.dialogVisible?e._e():t("el-upload",{attrs:{action:e.uploadUrl,"list-type":"picture-card","on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove}},[t("i",{staticClass:"el-icon-plus"})]),e._v(" "),t("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(r){e.dialogVisible=r}}},[t("img",{attrs:{width:"100%",src:e.profileImageUrl,alt:""}})])],1),e._v(" "),t("el-form",{ref:"ruleForm",staticClass:"profile-update",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"Name",prop:"name"}},[t("el-input",{model:{value:e.ruleForm.name,callback:function(r){e.$set(e.ruleForm,"name",r)},expression:"ruleForm.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"D.O.B.",prop:"dob",required:""}},[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{prop:"date"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"Date of birth"},model:{value:e.ruleForm.dob,callback:function(r){e.$set(e.ruleForm,"dob",r)},expression:"ruleForm.dob"}})],1)],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"Gender"}},[t("el-radio-group",{model:{value:e.ruleForm.gender,callback:function(r){e.$set(e.ruleForm,"gender",r)},expression:"ruleForm.gender"}},[t("el-radio",{attrs:{label:1}},[e._v("Male")]),e._v(" "),t("el-radio",{attrs:{label:2}},[e._v("Female")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"Mobile",prop:"mobile"}},[t("el-input",{model:{value:e.ruleForm.mobile,callback:function(r){e.$set(e.ruleForm,"mobile",r)},expression:"ruleForm.mobile"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"About me",prop:"introduction"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.introduction,callback:function(r){e.$set(e.ruleForm,"introduction",r)},expression:"ruleForm.introduction"}})],1),e._v(" "),t("el-form-item",{staticStyle:{"margin-left":"0px"},attrs:{align:"center"}},[t("el-button",{on:{click:function(r){e.updateProfileMode=!1}}},[e._v("Cancel")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.submitForm()}}},[e._v("Update")])],1)],1)],1)},[],!1,null,"8f0bf65a",null);s.options.__file="index.vue";r.default=s.exports},pgBP:function(e,r,t){}}]);